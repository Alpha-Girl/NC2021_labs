clear, clc

A = [2, -1, 0, 0, 0, 0, 0, 0, 0, 0;
    -1, 2, -1, 0, 0, 0, 0, 0, 0, 0;
    0, -1, 2, -1, 0, 0, 0, 0, 0, 0;
    0, 0, -1, 2, -1, 0, 0, 0, 0, 0;
    0, 0, 0, -1, 2, -1, 0, 0, 0, 0;
    0, 0, 0, 0, -1, 2, -1, 0, 0, 0;
    0, 0, 0, 0, 0, -1, 2, -1, 0, 0;
    0, 0, 0, 0, 0, 0, -1, 2, -1, 0;
    0, 0, 0, 0, 0, 0, 0, -1, 2, -1;
    0, 0, 0, 0, 0, 0, 0, 0, -1, 2];
b = [2; -2; 2; -1; 0; 0; 1; -2; 2; -2];
x_exact = [1; 0; 1; 0; 0; 0; 0; -1; 0; 1];
tmp=abs(max(x_exact));
x_1 = [0; 0; 0; 0; 0; 0; 0; 0; 0; 0];
x_2 = [1; 1; 1; 1; 1; 1; 1; 1; 1; 1];
D = diag(diag(A));
D_inv=inv(D);
R=speye(10)-D\A;
g=D\b;
delta_x=x_1-x_2;
delta_max=max(x_1-x_2);
count=[];
number=1;
while abs(max(x_1 - x_2)) > 10^(- 15)
    x_1 = x_2;
    x_2 = R*x_1+g;
    count(number)=abs(max(x_2-x_exact))/tmp;
    number=number+1;
end
semilogy(count);
x=x_2